{% extends "base.html" %}

{% block title %}रिडेव्हलपमेंट व्यवस्थापन - सिध्द गौतम सोसायटी{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h2 class="fw-bold mb-0"><i class="fas fa-building text-primary me-2"></i>रिडेव्हलपमेंट व्यवस्थापन</h2>
        <p class="text-muted small mb-0">सोसायटीच्या पुनर्विकास कामांची प्रगती व्यवस्थापित करा.</p>
    </div>
</div>

<div class="row g-4">
    <!-- Add Update Form -->
    <div class="col-lg-4">
        <div class="card shadow-sm border-0 rounded-4">
            <div class="card-header bg-white py-3">
                <h5 class="mb-0 fw-bold"><i class="fas fa-plus-circle me-2 text-primary"></i>नवीन अपडेट जोडा</h5>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-3">
                        <label for="title" class="form-label small fw-bold text-muted">शीर्षक</label>
                        <input type="text" class="form-control rounded-3" id="title" name="title" required
                            placeholder="अपडेटचे नाव">
                    </div>
                    <div class="mb-3">
                        <label for="description" class="form-label small fw-bold text-muted">तपशील</label>
                        <textarea class="form-control rounded-3" id="description" name="description" rows="4" required
                            placeholder="सविस्तर माहिती..."></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="progress" class="form-label small fw-bold text-muted">प्रगती (%)</label>
                        <input type="number" class="form-control rounded-3" id="progress" name="progress" min="0"
                            max="100" value="0" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100 rounded-pill shadow-sm">
                        <i class="fas fa-save me-1"></i> जतन करा
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Updates List -->
    <div class="col-lg-8">
        <div class="card shadow-sm border-0 rounded-4">
            <div class="card-header bg-white py-3">
                <h5 class="mb-0 fw-bold"><i class="fas fa-list me-2 text-primary"></i>सर्व अपडेट्स</h5>
            </div>
            <div class="card-body">
                {% if updates %}
                {% for update in updates %}
                <div class="card mb-3 border-0 shadow-sm bg-light">
                    <div class="card-body p-4">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h6 class="fw-bold mb-0">{{ update.title }}</h6>
                            <span class="badge bg-primary rounded-pill">{{ update.progress_percentage }}%</span>
                        </div>
                        <p class="small text-secondary mb-3">{{ update.description }}</p>
                        <div class="progress mb-2" style="height: 10px;">
                            <div class="progress-bar progress-bar-animated" role="progressbar"
                                style="width: {{ update.progress_percentage }}%">
                            </div>
                        </div>
                        <div class="d-flex justify-content-between mt-2">
                            <small class="text-muted">
                                <i class="fas fa-calendar me-1"></i> {{ update.update_date.strftime('%d/%m/%Y') }}
                            </small>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% else %}
                <div class="alert alert-info border-0 shadow-sm">
                    <i class="fas fa-info-circle me-2"></i> कोणतेही अपडेट्स नाहीत
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}